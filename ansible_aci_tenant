- name: Create a tenant in ACI
  hosts:  localhost
  connection: local
  gather_facts: no

  vars_files:
    - '{{ playbook_dir }}/files/passwords.yml' 
    - '{{ playbook_dir }}/files/prefillfield.yml' 

  vars:
    #  These are default values which can be overridden at run time using -e or --extra-vars
    description: '{{ params.description }}'                   
    tenant: '{{ params.tenant }}'                                        
    desired_state: present # don't change. If you want to remove a tenant, change to 'absent'
    validate_certs: no # don't change                           
    password: '{{ apic.password }}'                        #

  tasks:
    - name: Create (or delete) tenant
      aci_tenant:
        hostname: '{{ apic.hostname }}'
        username: '{{ apic.username }}'
        password: '{{ password }}'
        validate_certs: '{{ validate_certs }}'
        tenant: '{{ tenant }}'
        description: '{{ description }}'
        state: '{{ desired_state }}'
